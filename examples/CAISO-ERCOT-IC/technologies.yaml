# aliased data

REGIONAL-SPV-CF: &REGIONAL-SPV-CF
  US-CA: # CF %
    "*":
      "*":
        - 0.0 # 0 - 4
        - 0.20 # 4 - 8
        - 0.75 # 8 - 12
        - 1. # 12 - 16
        - 0.75 # 16 - 20
        - 0.2 # 20 - 24
  US-TX: # CF %
    "*":
      "*":
        - 0.0 # 0 - 4
        - 0.15 # 4 - 8
        - 0.6 # 8 - 12
        - 0.8 # 12 - 16
        - 0.6 # 16 - 20
        - 0.15 # 20 - 24


REGIONAL-SPV-POTENTIAL: &REGIONAL-SPV-POTENTIAL
  US-CA:
    "*": 250 # GW
  US-TX:
    "*": 150 # GW

REGIONAL-WON-CF: &REGIONAL-WON-CF
  US-CA: # CF %
    "*":
      "*":
        - 0.4 # 0 - 4
        - 0.5 # 4 - 8
        - 0.6 # 8 - 12
        - 0.6 # 12 - 16
        - 0.7 # 16 - 20
        - 0.5 # 20 - 24
  US-TX: # CF %
    "*":
      "*":
        - 0.4 # 0 - 4
        - 0.55 # 4 - 8
        - 0.7 # 8 - 12
        - 0.7 # 12 - 16
        - 0.8 # 16 - 20
        - 0.6 # 20 - 24

REGIONAL-WON-POTENTIAL: &REGIONAL-WON-POTENTIAL
  US-CA:
    "*": 50 # GW
  US-TX:
    "*": 100 # GW

REGIONAL-CCG-RESIDUAL: &REGIONAL-CCG-RESIDUAL # GW
  US-CA: "{y:20*(2041-y)/(2041-2022) for y in {{$time_definition.years}}}"
  US-TX: "{y:42*(2041-y)/(2041-2022) for y in {{$time_definition.years}}}"
REGIONAL-COA-RESIDUAL: &REGIONAL-COA-RESIDUAL # GW
  US-CA: "{y:5*(2041-y)/(2041-2022) for y in {{$time_definition.years}}}"
  US-TX: "{y:18*(2041-y)/(2041-2022) for y in {{$time_definition.years}}}"
REGIONAL-BAT-RESIDUAL: &REGIONAL-BAT-RESIDUAL # GW
  0.
REGIONAL-WON-RESIDUAL: &REGIONAL-WON-RESIDUAL # GW
  US-CA: "{y:7*(2041-y)/(2041-2022) for y in {{$time_definition.years}}}"
  US-TX: "{y:34*(2041-y)/(2041-2022) for y in {{$time_definition.years}}}"
REGIONAL-SPV-RESIDUAL: &REGIONAL-SPV-RESIDUAL # GW
  US-CA: "{y:14*(2041-y)/(2041-2022) for y in {{$time_definition.years}}}"
  US-TX: "{y:8*(2041-y)/(2041-2022) for y in {{$time_definition.years}}}"
REGIONAL-EXT-COA-RESIDUAL: &REGIONAL-EXT-COA-RESIDUAL
  US-CA: null
  US-TX: "{y:0.5*(2041-y)/(2041-2022) for y in {{$time_definition.years}}}"
  ATLANTIC-MARKET: inf
  PACIFIC-MARKET: inf
REGIONAL-EXT-GAS-RESIDUAL: &REGIONAL-EXT-GAS-RESIDUAL
  US-CA: null
  US-TX: "{y:12*(2041-y)/(2041-2022) for y in {{$time_definition.years}}}"
  ATLANTIC-MARKET: inf
  PACIFIC-MARKET: inf



REGIONAL-TRN-ELEC-RESIDUAL: &REGIONAL-TRN-ELEC-RESIDUAL
  US-CA:
    US-TX:
      0.5
REGIONAL-TRN-GAS-RESIDUAL: &REGIONAL-TRN-GAS-RESIDUAL
  ATLANTIC-MARKET:
    US-TX:
      inf
  PACIFIC-MARKET:
    US-CA:
      inf
REGIONAL-TRN-COAL-RESIDUAL: &REGIONAL-TRN-COAL-RESIDUAL
  ATLANTIC-MARKET:
    US-TX:
      inf
  PACIFIC-MARKET:
    US-CA:
      inf

REGIONAL-EXT-COA-SUPPLY-FUTURE: &REGIONAL-EXT-COA-SUPPLY-FUTURE
  US-TX: # mn$/EJ
    1.88
  ATLANTIC-MARKET:
    3.72
  PACIFIC-MARKET:
    4.70
REGIONAL-EXT-GAS-SUPPLY-FUTURE: &REGIONAL-EXT-GAS-SUPPLY-FUTURE
  US-TX: # mn$/EJ
    2.5
  ATLANTIC-MARKET:
    5.0
  PACIFIC-MARKET:
    7.0




# SPV, Gas, Wind, coal, BAT, EXT-GAS, EXT-COA, TRN
production_technologies:
  - id: SPV
    long_name: solar photovoltaic
    description: solar photovoltaic
    activity_unit_ratio: 30.41667
    capacity_addition_size: null
    availability_factor: 1.
    capacity_factor: *REGIONAL-SPV-CF
    operating_life: 25
    is_renewable: true
    include_regions: null
    exclude_regions:
      - ATLANTIC-MARKET
      - PACIFIC-MARKET
    capex: "{y:700 - 100*(max({{$time_definition.years}})-y)/(max({{$time_definition.years}}) - min({{$time_definition.years}})) for y in {{$time_definition.years}}}"
    opex_fixed: 10
    operating_modes:
      - id: GEN
        long_name: generation mode
        description: default generation mode
        impact_activity_ratio: 0.
        input_activity_ratio: null
        output_activity_ratio:
          "*":            # all regions
            ELEC:
              "*":        # all years
                1.
        to_storage: null
        from_storage: null
        opex_variable: 0.
    residual_capacity: *REGIONAL-SPV-RESIDUAL
    gross_capacity_max: *REGIONAL-SPV-POTENTIAL
    additional_capacity_max_ceil: null
    additional_capacity_max_floor: 5
    additional_capacity_max_growth_rate: 0.1
    gross_capacity_min: 0.
    additional_capacity_min: 0.
    additional_capacity_min_growth_rate: 0.

    # constraints - activity
    annual_activity_max: null
    annual_activity_min: null
    total_activity_max: null
    total_activity_min: null

  - id: CCG
    long_name: Combined-cycle gas
    description: combined cycle gas
    activity_unit_ratio: 30.41667
    capacity_addition_size: null
    availability_factor: 1.
    capacity_factor: 1.
    operating_life: 40
    is_renewable: false
    include_regions: null
    exclude_regions:
      - ATLANTIC-MARKET
      - PACIFIC-MARKET
    capex: 800
    opex_fixed: 25
    operating_modes:
      - id: GEN
        long_name: generation mode
        description: default generation mode
        impact_activity_ratio: 0.0503
        input_activity_ratio:
          "*":        # all regions
            GAS:
              "*":    # all years
                1.8 # 55% efficiency
        output_activity_ratio:
          "*":            # all regions
            ELEC:
              "*":        # all years
                1.
        to_storage: null
        from_storage: null
        opex_variable: 0.
    residual_capacity: *REGIONAL-CCG-RESIDUAL
    gross_capacity_max: null
    additional_capacity_max_ceil: null
    additional_capacity_max_floor: 5
    additional_capacity_max_growth_rate: 0.1
    gross_capacity_min: 0.
    additional_capacity_min: 0.
    additional_capacity_min_growth_rate: 0.

    # constraints - activity
    annual_activity_max: null
    annual_activity_min: null
    total_activity_max: null
    total_activity_min: null

  - id: WON
    long_name: Onshore Wind
    description: Onshore Wind
    activity_unit_ratio: 30.41667
    capacity_addition_size: null
    availability_factor: 1.
    capacity_factor: *REGIONAL-WON-CF
    operating_life: 25
    is_renewable: true
    include_regions: null
    exclude_regions:
      - ATLANTIC-MARKET
      - PACIFIC-MARKET
    capex: "{y:1500 - 100*(max({{$time_definition.years}})-y)/(max({{$time_definition.years}})-min({{$time_definition.years}})) for y in {{$time_definition.years}}}"
    opex_fixed: 38
    operating_modes:
      - id: GEN
        long_name: generation mode
        description: default generation mode
        impact_activity_ratio: 0.
        input_activity_ratio: null
        output_activity_ratio:
          "*":            # all regions
            ELEC:
              "*":        # all years
                1.
        to_storage: null
        from_storage: null
        opex_variable: 0.
    residual_capacity: *REGIONAL-WON-RESIDUAL
    gross_capacity_max: *REGIONAL-WON-POTENTIAL
    additional_capacity_max_ceil: null
    additional_capacity_max_floor: 5
    additional_capacity_max_growth_rate: 0.1
    gross_capacity_min: 0.
    additional_capacity_min: 0.
    additional_capacity_min_growth_rate: 0.

  - id: COA
    long_name: Coal Generation
    description: Coal Generation
    activity_unit_ratio: 30.41667
    capacity_addition_size: null
    availability_factor: 1.
    capacity_factor: 1.
    operating_life: 40
    is_renewable: false
    include_regions: null
    exclude_regions:
      - ATLANTIC-MARKET
      - PACIFIC-MARKET
    capex: 500
    opex_fixed: 50
    operating_modes:
      - id: GEN
        long_name: generation mode
        description: default generation mode
        impact_activity_ratio: 0.0933
        input_activity_ratio:
          "*":            # all regions
            COA:
              "*":        # all years
                2.8     # 35%
        output_activity_ratio:
          "*":            # all regions
            ELEC:
              "*":        # all years
                1.
        to_storage: null
        from_storage: null
        opex_variable: 0.
    residual_capacity: *REGIONAL-COA-RESIDUAL
    gross_capacity_max: null
    additional_capacity_max_ceil: null
    additional_capacity_max_floor: 5
    additional_capacity_max_growth_rate: 0.1
    gross_capacity_min: 0.
    additional_capacity_min: 0.
    additional_capacity_min_growth_rate: 0.

    # constraints - activity
    annual_activity_max: null
    annual_activity_min: null
    total_activity_max: null
    total_activity_min: null

  - id: EXT-COA
    long_name: Coal Extraction
    description: Coal Extraction
    activity_unit_ratio: 30.41667
    capacity_addition_size: null
    availability_factor: 1.
    capacity_factor: 1.
    operating_life: null
    is_renewable: false
    include_regions: null
    exclude_regions:
      - US-CA
    capex: 0
    opex_fixed: 0
    operating_modes:
      - id: EXT
        long_name: Extraction mode
        description: default extraction mode
        impact_activity_ratio: 0.
        input_activity_ratio: null
        output_activity_ratio:
          US-TX:            # all regions
            COA:
              "*":        # all years
                1.
          ATLANTIC-MARKET:
            COA:
              "*":
                1.
          PACIFIC-MARKET:
            COA:
              "*":
                1.
        to_storage: null
        from_storage: null
        opex_variable: *REGIONAL-EXT-COA-SUPPLY-FUTURE
    residual_capacity: *REGIONAL-EXT-COA-RESIDUAL
    gross_capacity_max: null
    additional_capacity_max_ceil: null
    additional_capacity_max_floor: 5
    additional_capacity_max_growth_rate: 0.1
    gross_capacity_min: 0.
    additional_capacity_min: 0.
    additional_capacity_min_growth_rate: 0.

    # constraints - activity
    annual_activity_max: null
    annual_activity_min: null
    total_activity_max: null
    total_activity_min: null

  - id: EXT-GAS
    long_name: Gas Extraction
    description: Gas Extraction
    activity_unit_ratio: 30.41667
    capacity_addition_size: null
    availability_factor: 1.
    capacity_factor: 1.
    operating_life: null
    is_renewable: false
    include_regions: null
    exclude_regions:
      - US-CA
    capex: 0
    opex_fixed: 0
    operating_modes:
      - id: EXT
        long_name: Extraction mode
        description: default extraction mode
        impact_activity_ratio: 0.
        input_activity_ratio: null
        output_activity_ratio:
          US-TX:            # all regions
            GAS:
              "*":        # all years
                1.
          ATLANTIC-MARKET:
            GAS:
              "*":
                1.
          PACIFIC-MARKET:
            GAS:
              "*":
                1.
        to_storage: null
        from_storage: null
        opex_variable: *REGIONAL-EXT-GAS-SUPPLY-FUTURE
    residual_capacity: *REGIONAL-EXT-GAS-RESIDUAL
    gross_capacity_max: null
    additional_capacity_max_ceil: null
    additional_capacity_max_floor: 5
    additional_capacity_max_growth_rate: 0.1
    gross_capacity_min: 0.
    additional_capacity_min: 0.
    additional_capacity_min_growth_rate: 0.

    # constraints - activity
    annual_activity_max: null
    annual_activity_min: null
    total_activity_max: null
    total_activity_min: null

storage_technologies:
  - id: BAT
    long_name: Battery storage
    description: Batter Storage
    activity_unit_ratio: 30.41667
    capacity_addition_size: null
    availability_factor: 1.
    capacity_factor: null
    operating_life: 25
    include_regions: null
    exclude_regions:
      - ATLANTIC-MARKET
      - PACIFIC-MARKET
    capex: 1500
    opex_fixed: 10
    operating_modes:
      - id: CHARGE
        long_name: charging mode
        description: charging mode
        impact_activity_ratio: 0.
        input_activity_ratio:
          "*":            # all regions
            ELEC:
              "*":        # all years
                1.
        output_activity_ratio: null
        to_storage: null
        from_storage: null
        opex_variable: 0.
      - id: DISCHARGE
        long_name: discharging mode
        description: discharging mode
        impact_activity_ratio: 0.
        input_activity_ratio: null
        output_activity_ratio:
          "*":            # all regions
            ELEC:
              "*":        # all years
                0.95
        to_storage: null
        from_storage: null
        opex_variable: 0.
    residual_capacity: *REGIONAL-BAT-RESIDUAL
    gross_capacity_max: null
    additional_capacity_max_ceil: null
    additional_capacity_max_floor: 5
    additional_capacity_max_growth_rate: 0.1
    gross_capacity_min: 0.
    additional_capacity_min: 0.
    additional_capacity_min_growth_rate: 0.

    # constraints - activity
    annual_activity_max: null
    annual_activity_min: null
    total_activity_max: null
    total_activity_min: null
    minimum_charge: 0.
    initial_level: 0.
    max_discharge_rate: null
    max_charge_rate: null

transmission_technologies:
  - id: TRN-ELEC
    long_name: Electricity Transmission
    description: Electricity Transmission
    activity_unit_ratio: 30.41667
    capacity_addition_size: null
    availability_factor: 1.
    capacity_factor: null
    operating_life: 25
    include_region_pairs:
      - ["US-CA","US-TX"]
    exclude_region_pairs: "*"
    capex: 1500
    opex_fixed: 10
    operating_modes:
      - id: TRANSMISSION
        long_name: transmission
        description: transmission
        impact_activity_ratio: 0.
        input_activity_ratio:
          "*":            # all regions
            ELEC:
              "*":        # all years
                1.
        output_activity_ratio:
          "*":            # all regions
            ELEC:
              "*":        # all years
                0.99    # a bit of loss
        to_storage: null
        from_storage: null
        opex_variable: 0.
    residual_capacity: *REGIONAL-TRN-ELEC-RESIDUAL
    gross_capacity_max: null
    additional_capacity_max_ceil: null
    additional_capacity_max_floor: 5
    additional_capacity_max_growth_rate: 0.1
    gross_capacity_min: 0.
    additional_capacity_min: 0.
    additional_capacity_min_growth_rate: 0.
    annual_activity_max: null
    annual_activity_min: null
    total_activity_max: null
    total_activity_min: null

  - id: TRN-GAS
    long_name: Gas Import
    description: Gas Import
    activity_unit_ratio: 30.41667
    capacity_addition_size: null
    availability_factor: 1.
    capacity_factor: null
    operating_life: 25
    include_region_pairs:
      - ["ATLANTIC-MARKET","US-CA"]
      - ["PACIFIC-MARKET","US-TX"]
    exclude_region_pairs: "*"
    capex: 0
    opex_fixed: 0.
    operating_modes:
      - id: TRANSMISSION
        long_name: transmission
        description: transmission
        impact_activity_ratio: 0.
        input_activity_ratio:
          "*":            # all regions
            GAS:
              "*":        # all years
                1.
        output_activity_ratio:
          "*":            # all regions
            GAS:
              "*":        # all years
                1.
        to_storage: null
        from_storage: null
        opex_variable: 0.
    residual_capacity: *REGIONAL-TRN-GAS-RESIDUAL
    gross_capacity_max: null
    additional_capacity_max_ceil: null
    additional_capacity_max_floor: 5
    additional_capacity_max_growth_rate: 0.1
    gross_capacity_min: 0.
    additional_capacity_min: 0.
    additional_capacity_min_growth_rate: 0.
    annual_activity_max: null
    annual_activity_min: null
    total_activity_max: null
    total_activity_min: null

  - id: TRN-COAL
    long_name: Coal Import
    description: Coal Import
    activity_unit_ratio: 30.41667
    capacity_addition_size: null
    availability_factor: 1.
    capacity_factor: null
    operating_life: 25
    include_region_pairs:
      - ["ATLANTIC-MARKET","US-CA"]
      - ["PACIFIC-MARKET","US-TX"]
    exclude_region_pairs: "*"
    capex: 0
    opex_fixed: 0.
    operating_modes:
      - id: TRANSMISSION
        long_name: transmission
        description: transmission
        impact_activity_ratio: 0.
        input_activity_ratio:
          "*":            # all regions
            COAL:
              "*":        # all years
                1.
        output_activity_ratio:
          "*":            # all regions
            COAL:
              "*":        # all years
                1.
        to_storage: null
        from_storage: null
        opex_variable: 0.
    residual_capacity: *REGIONAL-TRN-COAL-RESIDUAL
    gross_capacity_max: null
    additional_capacity_max_ceil: null
    additional_capacity_max_floor: 5
    additional_capacity_max_growth_rate: 0.1
    gross_capacity_min: 0.
    additional_capacity_min: 0.
    additional_capacity_min_growth_rate: 0.
    annual_activity_max: null
    annual_activity_min: null
    total_activity_max: null
    total_activity_min: null
